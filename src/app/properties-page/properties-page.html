<property-form (added)="addProperty($event)"></property-form>

<section class="mb-6 bg-white p-6 rounded-lg shadow-md">
  <div class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4 items-end">
    <div class="md:col-span-3 lg:col-span-3">
      <label for="search-text" class="block text-gray-700 font-bold mb-2">Search</label>
      <input
        type="text"
        id="search-text"
        name="searchText"
        placeholder="Piso en el centro, chalet con piscina..."
        class="w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
        [(ngModel)]="search"
      />
    </div>

    <div>
      <label for="province-filter" class="block text-gray-700 font-bold mb-2">Province</label>
      <select
        id="province-filter"
        name="provinceFilter"
        class="w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white"
        [(ngModel)]="province"
      >
        <option value="">Select a province</option>
        @for(i of provincesResource.value().provinces; track i.id) {
          <option value="{{ i.id }}">{{ i.name }}</option>
          }
      </select>
    </div>
  </div>
</section>

<section>
  <h2 class="text-2xl font-bold text-gray-800">Properties for Sale</h2>
  <div class="text-gray-600 text-sm p-2 mb-4">{{ getFiltersText() }}</div>
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
    @for (property of filteredProperties(); track property.id) {
    <property-card [property]="property" (deleted)="deleteProperty(property)"></property-card>
    }
  </div>
  @if(!filteredProperties().length) {
  <p class="text-2xl text-gray-500">No properties found.</p>
  }
</section>
